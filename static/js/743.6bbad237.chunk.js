"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[743],{2743:function(t,e,n){n.r(e),n.d(e,{default:function(){return f}});var a=n(885),r=n(2791),s=n(7917),c=function(t,e){var n=["#05BBD2","#2070C4","#B57EDC","#F5C842","#37D400"],r=500;s.Ys(t).select("svg").remove();var c=s.Ys(t).append("svg").attr("preserveAspectRatio","xMidYMid meet").attr("height","100%").attr("width","100%").attr("viewBox","0 0 ".concat(r," ").concat(r)).append("g").attr("transform","translate(".concat(250,", ").concat(250,")")),i=e.reduce((function(t,e){return Math.max(t,e.value)}),0),o=s.Nb1().cornerRadius(10).padAngle(.02).innerRadius(100).outerRadius((function(t){return 250-(i-t.value)})),l=s.ve8().startAngle(-.75*Math.PI).value((function(t){return t.value})),d=c.selectAll().data(l(e)).enter();d.append("path").attr("d",o).style("fill",(function(t,a){return n[a%e.length]})).transition().duration(700).delay(300).attrTween("d",(function(t){var e=s.sXR(t.startAngle,t.endAngle);return function(n){return t.endAngle=e(n),o(t)}})),d.append("text").attr("text-anchor","middle").text((function(t){return"".concat(t.data.value,"%")})).style("fill","#fff").style("font-size","30px").attr("transform",(function(t){var e=o.centroid(t),n=(0,a.Z)(e,2),r=n[0],s=n[1];return"translate(".concat(r,", ").concat(s,")")})).style("font-size",0).transition().duration(700).style("font-size","20px"),c.append("circle").attr("cx",0).attr("cy",0).attr("r",100).attr("stroke","#143F8A").attr("fill","transparent").transition().duration(700).attr("stroke-width",8)},i=n(184),o=function(t){var e=t.data,n=(0,r.useRef)(null);return(0,r.useEffect)((function(){n.current&&c(n.current,e)}),[n]),(0,i.jsx)("div",{className:"container-chart",children:(0,i.jsx)("div",{className:"graph-chart",ref:n})})},l=r.memo(o),d=n(7400),u=function(t){var e=t.widgetData,n=e.main,a=e.name,r=e.sys,s=e.weather,c="https://openweathermap.org/img/wn/".concat(s[0].icon,"@4x.png"),o=new Date;return(0,i.jsxs)("div",{className:"widget",children:[(0,i.jsx)("div",{className:"weatherIcon",children:(0,i.jsx)("img",{className:"city-icon",src:c,alt:s[0].main})}),(0,i.jsxs)("div",{className:"weatherInfo",children:[(0,i.jsx)("div",{className:"temperature",children:(0,i.jsxs)("span",{children:[Math.round(n.temp),"\xb0"]})}),(0,i.jsxs)("div",{className:"description",children:[(0,i.jsx)("div",{className:"weatherCondition",children:s[0].description}),(0,i.jsxs)("div",{className:"place",children:[a,", ",(0,i.jsx)("sup",{children:r.country})]})]})]}),(0,i.jsx)("div",{className:"date",children:o.toDateString()})]})};var f=function(){var t=(0,r.useState)([]),e=(0,a.Z)(t,2),n=e[0],s=e[1],c=(0,r.useState)([]),o=(0,a.Z)(c,2),f=o[0],h=o[1],p=localStorage.getItem("username");(0,r.useEffect)((function(){d.Z.get("count/".concat(p)).then((function(t){s(t.data)})).catch((function(t){return console.log(t)}))}),[p]),(0,r.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var e=t.coords.latitude,n=t.coords.longitude,a="https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&")+"lon=".concat(n,"&appid=").concat("902c8175f68c5e6434de3dc741f3afb2","&units=metric");fetch(a).then((function(t){return t.json()})).then((function(t){h(t)})).catch((function(t){return console.log(t)}))}))}),[]);var m=localStorage.getItem("username");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"my-profile",children:(0,i.jsxs)("p",{style:{margin:"0px",color:"#fff"},children:["Logged in as: ",m.toUpperCase()]})}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.length>0&&(0,i.jsx)(l,{data:n}),0!==Object.keys(f).length?(0,i.jsx)(u,{widgetData:f}):null]}),(0,i.jsxs)("div",{className:"status",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"dot col-1"})," ",(0,i.jsx)("p",{children:"Complete"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"dot col-2"})," ",(0,i.jsx)("p",{children:"Incomplete"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"dot col-3"})," ",(0,i.jsx)("p",{children:"Pending"})]})]})]})}}}]);
//# sourceMappingURL=743.6bbad237.chunk.js.map